name: rust ci
on:
  push:
    branches:
    - main
  pull_request:
    # Don't run on documentation-only changes
    paths-ignore: ["**.md"]
  workflow_dispatch:

permissions:
  contents: read

jobs:
  ci:
    uses: langston-barrett/gha/.github/workflows/rust-ci.yml@c654e65f352816f626d3e61c47245e413302f244
    with:
      bench: false
      os: ubuntu-latest

  lint:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v5 # zizmor: ignore[unpinned-uses] TODO
      with:
        persist-credentials: false
    - uses: langston-barrett/mdlynx/.github/actions/mdlynx@v0.3.0